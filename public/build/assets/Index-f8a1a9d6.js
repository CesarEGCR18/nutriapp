import{r as l,W as F,j as e,a as C}from"./app-507ae73f.js";import{A as S}from"./AuthenticatedLayout-4b09d535.js";import{L as n}from"./LinkButton-a9ddd0ab.js";import{P as m}from"./PrimaryButton-fdfac215.js";import{I as u}from"./InputLabel-3bc1159e.js";import{T as g}from"./TextInput-51fdd16b.js";import{F as a}from"./index.es-de57706a.js";import{u as P}from"./useFormattedDate-fcca137b.js";import"./ApplicationLogo-8566a54f.js";import"./transition-31713d59.js";function K({auth:f,plans:s,patients:E,detailPlans:I}){l.useState({}),l.useState("");const[o,d]=l.useState(""),[r,h]=l.useState(null),{data:L,setData:D,delete:b,post:A,patch:T,processing:q,reset:R,errors:p}=F({id:"",fecha:"",peso:0,grasa:0,porcentajeGrasa:0,agua:0,musculo:0,grasaVisceral:0,proteina:0,minerales:0,pecho:0,cintura:0,cadera:0,idPaciente:0}),N=t=>{d(t.target.value)},j=t=>{const c=t.target.value;h(c?new Date(c):null)},v=()=>{d("")},w=()=>{h(null)},x=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),y=t=>t.patients&&x(t.patients.nombre)+" "+x(t.patients.apellidos),i=s&&s.filter(t=>(o===""||y(t).toLowerCase().includes(o.toLowerCase().trim()))&&(!r||t.fecha===r.toISOString().split("T")[0])),k=t=>{b(route("plans.destroy",t),{onSuccess:()=>{console.log("SUCCESS")},onError:()=>{console.log("ERROR"),console.log(p)}})};return e.jsxs(S,{user:f.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Planes"}),children:[e.jsx(C,{title:"Planes"}),e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("div",{className:"mt-3 mb-3 flex justify-end",children:e.jsxs(n,{className:"w-auto m-1 focus:hover:bg-yellow-600 bg-yellow-600 hover:bg-yellow-700 dark:focus:hover:bg-yellow-500 dark:hover:!bg-yellow-500 dark:hover:text-white",title:"Crear Plan Alimenticio",href:route("plans.create"),children:[e.jsx(a,{className:"text-lg mr-2",icon:["far","square-plus"]}),"Crear Plan Alimenticio"]})})}),s&&s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid v-screen place-items-center mt-4",children:[e.jsxs("div",{className:"mt-3 mb-3 flex w-2/6 justify-center",children:[e.jsx(u,{htmlFor:"filtroNombre",value:"Nombre",className:"w-12 mr-4 flex content-center items-center"}),e.jsx(g,{id:"filtroNombre",name:"filtroNombre",type:"text",className:"block w-2/4",value:o,onChange:N}),e.jsx(m,{className:"ml-4 w-auto",onClick:v,children:e.jsx(a,{className:"text-lg",icon:["fas","broom"]})})]}),e.jsxs("div",{className:"mt-3 mb-3 flex w-2/6 justify-center",children:[e.jsx(u,{htmlFor:"filtroFecha",value:"Fecha",className:"w-12 mr-4 flex content-center items-center"}),e.jsx(g,{id:"filtroFecha",name:"filtroFecha",type:"date",className:"block w-2/4",value:r?r.toISOString().split("T")[0]:"",onChange:j}),e.jsx(m,{className:"ml-4 w-auto",onClick:w,children:e.jsx(a,{className:"text-lg",icon:["fas","broom"]})})]})]}),i&&i.length>0?e.jsx("div",{className:"mx-auto",children:e.jsxs("table",{className:"table-fixed bg-gray-800 rounded-xl overflow-hidden w-auto mx-auto my-4",children:[e.jsx("thead",{className:"bg-gray-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-auto px-4 py-3 text-left",children:"Fecha"}),e.jsx("th",{className:"w-auto px-4 py-3 text-left",children:"Nombre del paciente"}),e.jsx("th",{className:"w-2/4 px-4 py-3 text-left"})]})}),e.jsx("tbody",{className:"text-white",children:i.map((t,c)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3",children:P(t.fecha)}),e.jsx("td",{className:"px-4 py-3",children:t.patients.nombre+" "+t.patients.apellidos}),e.jsxs("td",{className:"w-full px-4 py-3 inline-flex justify-end",children:[e.jsx(n,{className:"w-auto m-1 !bg-blue-500 focus:hover:bg-blue-600 hover:!bg-blue-600 dark:focus:hover:bg-blue-500 dark:hover:!bg-blue-500 dark:hover:text-white",title:"Mostrar",href:route("plans.show",t),children:e.jsx(a,{className:"text-lg",icon:["far","eye"]})}),e.jsx(n,{className:"w-auto m-1 !bg-green-500 focus:hover:bg-green-600 hover:!bg-green-600 dark:focus:hover:bg-green-500 dark:hover:!bg-green-500 dark:hover:text-white",title:"Editar",href:route("plans.edit",t),children:e.jsx(a,{className:"text-lg",icon:["far","pen-to-square"]})}),e.jsx(m,{className:"w-auto m-1 !bg-red-500 focus:hover:bg-red-600 hover:!bg-red-600 dark:focus:hover:bg-red-500 dark:hover:!bg-red-500 dark:hover:text-white",title:"Eliminar",onClick:()=>k(t),children:e.jsx(a,{className:"text-lg",icon:["far","trash-can"]})})]})]},t.id))})]})}):e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"No existen planes alimenticios para la b√∫squeda"})})]}):e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"No existen planes alimenticios"})})]})}export{K as default};
