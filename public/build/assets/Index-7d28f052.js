import{r as c,W as S,j as e,a as E}from"./app-507ae73f.js";import{A as R}from"./AuthenticatedLayout-4b09d535.js";import{M as F}from"./Modal-2a986313.js";import{P as r}from"./PrimaryButton-fdfac215.js";import{I}from"./InputLabel-3bc1159e.js";import"./TextArea-892b90af.js";import{T as M}from"./TextInput-51fdd16b.js";import{F as m}from"./index.es-de57706a.js";import"./ApplicationLogo-8566a54f.js";import"./transition-31713d59.js";function z({auth:g,foodGroups:a}){const[u,d]=c.useState(!1);c.useState({});const[x,b]=c.useState("");console.log(a);const{data:l,setData:n,delete:p,post:j,patch:f,processing:N,reset:D,errors:i}=S({id:"",nombre:""}),h=(s,t={})=>{d(!0),b(s),n(s==="Crear"?{id:"",nombre:""}:{id:t.id,nombre:t.nombre})},v=s=>{const{name:t,value:k}=s.target;n(C=>({...C,[t]:k})),console.log(l)},o=()=>{d(!1)},w=s=>{s.preventDefault(),x==="Crear"?j(route("foodgroups.store"),{onSuccess:()=>{console.log("SUCCESS"),o()},onError:()=>{console.log("ERROR"),console.log(i)}}):f(route("foodgroups.update",l),{onSuccess:()=>{console.log("SUCCESS"),o()},onError:()=>{console.log("ERROR"),console.log(i)}})},y=s=>{p(route("foodgroups.destroy",s),{onSuccess:()=>{console.log("SUCCESS")},onError:()=>{console.log("ERROR"),console.log(i)}})};return e.jsxs(R,{user:g.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Grupos alimienticios"}),children:[e.jsx(E,{title:"Grupos alimienticios"}),e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("div",{className:"mt-3 mb-3 flex justify-end",children:e.jsxs(r,{className:"w-auto m-1 focus:hover:bg-yellow-600 bg-yellow-600 hover:bg-yellow-700 dark:focus:hover:bg-yellow-500 dark:hover:!bg-yellow-500 dark:hover:text-white",title:"Crear Grupo",onClick:()=>h("Crear"),children:[e.jsx(m,{className:"text-lg mr-2",icon:["far","square-plus"]}),"Crear Grupo"]})})}),a&&a.length>0?e.jsx("div",{className:"mx-auto",children:e.jsxs("table",{className:"table-fixed bg-gray-800 rounded-xl overflow-hidden w-auto mx-auto my-4",children:[e.jsx("thead",{className:"bg-gray-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/4 px-4 py-3 text-left",children:"Nombre"}),e.jsx("th",{className:"w-auto px-4 py-3 text-left"})]})}),e.jsx("tbody",{className:"text-white",children:a.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3",children:s.nombre}),e.jsxs("td",{className:"w-full px-4 py-3 inline-flex justify-end",children:[e.jsx(r,{className:"w-auto m-1 !bg-green-500 focus:hover:bg-green-600 hover:!bg-green-600 dark:focus:hover:bg-green-500 dark:hover:!bg-green-500 dark:hover:text-white",title:"Editar",onClick:()=>h("Editar",s),children:e.jsx(m,{className:"text-lg",icon:["far","pen-to-square"]})}),e.jsx(r,{className:"w-auto m-1 !bg-red-500 focus:hover:bg-red-600 hover:!bg-red-600 dark:focus:hover:bg-red-500 dark:hover:!bg-red-500 dark:hover:text-white",title:"Eliminar",onClick:()=>y(s.id),disabled:s.interchanges.length>0||s.detail_plans.length>0,children:e.jsx(m,{className:"text-lg",icon:["far","trash-can"]})})]})]},s.id))})]})}):e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"No existen tiempos alimenticios"})}),e.jsx(F,{className:"formulario",show:u,onClose:o,children:e.jsxs("div",{className:"w-full p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:x}),e.jsxs("form",{className:"p-4 grid grid-cols-1 gap-4 text-white",onSubmit:s=>w(s),children:[e.jsxs("div",{className:"mt-6",children:[e.jsx(I,{htmlFor:"nombre",value:"Nombre"}),e.jsx(M,{id:"nombre",name:"nombre",className:"mt-1 block w-full",required:!0,value:l.nombre,onChange:s=>v(s)})]}),e.jsxs("div",{className:"mt-6 col-span-2",children:[e.jsx(r,{type:"submit",className:"mt-3 mr-2 w-fit",disabled:N,children:"Guardar"}),e.jsx(r,{type:"button",className:"mt-3 w-fit",onClick:()=>o(),children:"Cerrar"})]})]})]})})]})}export{z as default};
