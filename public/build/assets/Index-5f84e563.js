import{r as n,W as Q,j as e,a as V}from"./app-507ae73f.js";import{A as X}from"./AuthenticatedLayout-4b09d535.js";import{M as q}from"./Modal-2a986313.js";import{P as i}from"./PrimaryButton-fdfac215.js";import{S as Y}from"./SecondaryButton-a171b414.js";import{I as r}from"./InputLabel-3bc1159e.js";import{T as p}from"./TextArea-892b90af.js";import{T as t}from"./TextInput-51fdd16b.js";import{F as m}from"./index.es-de57706a.js";import"./ApplicationLogo-8566a54f.js";import"./transition-31713d59.js";function ne({auth:D,patients:d}){const[P,N]=n.useState(!1),[E,f]=n.useState(!1),[c,v]=n.useState({}),[b,A]=n.useState(""),[x,w]=n.useState(""),[h,C]=n.useState(""),{data:s,setData:g,delete:M,post:R,patch:O,processing:T,reset:Z,errors:j}=Q({id:"",cedula:"",nombre:"",apellidos:"",telefono:"",email:"",alergias:"",numeroPartos:"",actividadFisica:0,ocupacion:"",medicamentos:"",consumoDrogas:0,comentario:""}),L=a=>{w(a.target.value)},I=()=>{w("")},U=a=>{C(a.target.value)},B=()=>{C("")},k=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,""),z=a=>a&&k(a.nombre)+" "+k(a.apellidos),F=d&&d.filter(a=>(x===""||z(a).toLowerCase().includes(x.toLowerCase().trim()))&&(h===""||a.cedula.toString().toLowerCase().includes(h.toLowerCase().trim()))),G=a=>{N(!0),v(a)},y=()=>{N(!1),setTimeout(()=>{v({})},200)},S=(a,o={})=>{f(!0),A(a),g(a==="Crear"?{id:"",cedula:"",nombre:"",apellidos:"",telefono:"",email:"",alergias:"",numeroPartos:"",actividadFisica:0,ocupacion:"",medicamentos:"",consumoDrogas:0,comentario:""}:{id:o.id,cedula:o.cedula,nombre:o.nombre,apellidos:o.apellidos,telefono:o.telefono,email:o.email,alergias:o.alergias,numeroPartos:o.numeroPartos,actividadFisica:o.actividadFisica,ocupacion:o.ocupacion,medicamentos:o.medicamentos,consumoDrogas:o.consumoDrogas,comentario:o.comentario})},l=a=>{const{name:o,value:J}=a.target;g(K=>({...K,[o]:J})),console.log(s)},u=()=>{f(!1)},W=a=>{a.preventDefault(),b==="Crear"?R(route("patients.store"),{onSuccess:()=>{console.log("SUCCESS"),u()},onError:()=>{console.log("ERROR"),console.log(j)}}):O(route("patients.update",s),{onSuccess:()=>{console.log("SUCCESS"),u()},onError:()=>{console.log("ERROR"),console.log(j)}})},H=a=>{M(route("patients.destroy",a),{onSuccess:()=>{console.log("SUCCESS")},onError:()=>{console.log("ERROR"),console.log(j)}})};return e.jsxs(X,{user:D.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Pacientes"}),children:[e.jsx(V,{title:"Pacientes"}),e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("div",{className:"mt-3 mb-3 flex justify-end",children:e.jsxs(i,{className:"w-auto m-1 focus:hover:bg-yellow-600 bg-yellow-600 hover:bg-yellow-700 dark:focus:hover:bg-yellow-500 dark:hover:!bg-yellow-500 dark:hover:text-white",title:"Crear Paciente",onClick:()=>S("Crear"),children:[e.jsx(m,{className:"text-lg mr-2",icon:["far","square-plus"]}),"Crear Paciente"]})})}),d&&d.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid v-screen place-items-center mt-4",children:[e.jsxs("div",{className:"mt-3 mb-3 flex w-2/6 justify-center",children:[e.jsx(r,{htmlFor:"filtroNombre",value:"Nombre",className:"w-12 mr-4 flex content-center items-center"}),e.jsx(t,{id:"filtroNombre",name:"filtroNombre",type:"text",className:"block w-2/4",value:x,onChange:L}),e.jsx(i,{className:"ml-4 w-auto",onClick:I,children:e.jsx(m,{className:"text-lg",icon:["fas","broom"]})})]}),e.jsxs("div",{className:"mt-3 mb-3 flex w-2/6 justify-center",children:[e.jsx(r,{htmlFor:"filtroCedula",value:"Cédula",className:"w-12 mr-4 flex content-center items-center"}),e.jsx(t,{id:"filtroCedula",name:"filtroCedula",type:"number",className:"block w-2/4",value:h,onChange:U}),e.jsx(i,{className:"ml-4 w-auto",onClick:B,children:e.jsx(m,{className:"text-lg",icon:["fas","broom"]})})]})]}),F&&F.length>0?e.jsx("div",{className:"mx-auto",children:e.jsxs("table",{className:"table-fixed bg-gray-800 rounded-xl overflow-hidden w-auto mx-auto my-4",children:[e.jsx("thead",{className:"bg-gray-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/4 px-4 py-3 text-left",children:"Cédula"}),e.jsx("th",{className:"w-1/4 px-4 py-3 text-left",children:"Nombre"}),e.jsx("th",{className:"w-2/4 px-4 py-3 text-left"})]})}),e.jsx("tbody",{className:"text-white",children:d.map((a,o)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3",children:a.cedula}),e.jsx("td",{className:"px-4 py-3",children:a.nombre+" "+a.apellidos}),e.jsxs("td",{className:"w-full px-4 py-3 inline-flex justify-end",children:[e.jsx(i,{className:"w-auto m-1 !bg-blue-500 focus:hover:bg-blue-600 hover:!bg-blue-600 dark:focus:hover:bg-blue-500 dark:hover:!bg-blue-500 dark:hover:text-white",onClick:()=>G(a),children:e.jsx(m,{className:"text-lg",icon:["far","eye"]})}),e.jsx(i,{className:"w-auto m-1 !bg-green-500 focus:hover:bg-green-600 hover:!bg-green-600 dark:focus:hover:bg-green-500 dark:hover:!bg-green-500 dark:hover:text-white",onClick:()=>S("Editar",a),children:e.jsx(m,{className:"text-lg",icon:["far","pen-to-square"]})}),e.jsx(i,{className:"w-auto m-1 !bg-red-500 focus:hover:bg-red-600 hover:!bg-red-600 dark:focus:hover:bg-red-500 dark:hover:!bg-red-500 dark:hover:text-white",onClick:()=>H(a),children:e.jsx(m,{className:"text-lg",icon:["far","trash-can"]})})]})]},a.id))})]})}):e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"No existen pacientes para la búsqueda"})})]}):e.jsx("div",{className:"grid v-screen place-items-center mt-4",children:e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"No existen pacientes"})}),e.jsx(q,{className:"mostrar-info",show:P,onClose:y,children:e.jsxs("div",{className:"w-full p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:"Paciente"}),e.jsxs("div",{className:"info text-lg dark:text-white",children:[e.jsxs("p",{children:["Cédula: ",c.cedula]}),e.jsxs("p",{children:["Nombre: ",c.nombre]}),e.jsxs("p",{children:["Apellidos: ",c.apellidos]}),e.jsxs("p",{children:["Teléfono: ",c.telefono]}),e.jsxs("p",{children:["Correo: ",c.email]}),e.jsxs("p",{children:["Alergias: ",c.alergias]}),e.jsxs("p",{children:["Número de partos: ",c.numeroPartos]}),e.jsxs("p",{children:["Actividad Física: ",c.actividadFisica===0?"No":"Sí"]}),e.jsxs("p",{children:["Ocupación: ",c.ocupacion]}),e.jsxs("p",{children:["Medicamentos: ",c.medicamentos]}),e.jsxs("p",{children:["Consumo de drogas: ",c.consumoDrogas===0?"No":"Sí"]}),e.jsxs("p",{children:["Comentario: ",c.comentario]})]}),e.jsx("div",{className:"mt-5 mx-auto text-center",children:e.jsx(Y,{onClick:()=>y(),children:"Cerrar"})})]})}),e.jsx(q,{className:"formulario",show:E,onClose:u,children:e.jsxs("div",{className:"w-full p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-black dark:text-white mb-3",children:b}),e.jsxs("form",{className:"p-4 grid grid-cols-2 gap-4 dark:text-white",onSubmit:a=>W(a),children:[e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"cedula",value:"Cédula"}),e.jsx(t,{id:"cedula",name:"cedula",className:"mt-1 block w-full",required:!0,value:s.cedula,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"nombre",value:"Nombre"}),e.jsx(t,{id:"nombre",name:"nombre",className:"mt-1 block w-full",required:!0,value:s.nombre,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"apellidos",value:"Apellidos"}),e.jsx(t,{id:"apellidos",name:"apellidos",className:"mt-1 block w-full",required:!0,value:s.apellidos,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"telefono",value:"Teléfono"}),e.jsx(t,{id:"telefono",name:"telefono",className:"mt-1 block w-full",required:!0,value:s.telefono,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"email",value:"Correo"}),e.jsx(t,{id:"email",name:"email",className:"mt-1 block w-full",required:!0,value:s.email,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"numeroPartos",value:"Número de partos"}),e.jsx(t,{type:"number",id:"numeroPartos",name:"numeroPartos",className:"mt-1 block w-full",required:!0,value:s.numeroPartos,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3 col-span-2",children:[e.jsx(r,{htmlFor:"alergias",value:"Alergias"}),e.jsx(p,{id:"alergias",name:"alergias",className:"mt-1 block w-full whitespace-pre-wrap",required:!0,value:s.alergias,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3 col-span-2",children:[e.jsx(r,{htmlFor:"ocupacion",value:"Ocupación"}),e.jsx(t,{id:"ocupacion",name:"ocupacion",className:"mt-1 block w-full",required:!0,value:s.ocupacion,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"actividadFisica",value:"Actividad física"}),e.jsx(t,{type:"radio",id:"actividadFisicaOption1",name:"actividadFisica",className:"mt-2 inline-block rounded-full",required:!0,value:"1",checked:s.actividadFisica==1,onChange:a=>l(a)}),e.jsx("span",{className:"mt-1 ml-2 mr-3 inline-block align-text-top",children:"Sí"}),e.jsx(t,{type:"radio",id:"actividadFisicaOption2",name:"actividadFisica",className:"mt-2 inline-block rounded-full",required:!0,value:"0",checked:s.actividadFisica==0,onChange:a=>l(a)}),e.jsx("span",{className:"mt-1 ml-2 inline-block align-text-top",children:"No"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"consumoDrogas",value:"Consumo de drogas"}),e.jsx(t,{type:"radio",id:"consumoDrogasOption1",name:"consumoDrogas",className:"mt-2 inline-block rounded-full",required:!0,value:"1",checked:s.consumoDrogas==1,onChange:a=>l(a)}),e.jsx("span",{className:"mt-1 ml-2 mr-3 inline-block align-text-top",children:"Sí"}),e.jsx(t,{type:"radio",id:"consumoDrogasOption2",name:"consumoDrogas",className:"mt-2 inline-block rounded-full",required:!0,value:"0",checked:s.consumoDrogas==0,onChange:a=>l(a)}),e.jsx("span",{className:"mt-1 ml-2 inline-block align-text-top",children:"No"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"medicamentos",value:"Medicamentos"}),e.jsx(p,{id:"medicamentos",name:"medicamentos",className:"mt-1 block w-full whitespace-pre-wrap",required:!0,value:s.medicamentos,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(r,{htmlFor:"comentario",value:"Comentarios"}),e.jsx(p,{id:"comentario",name:"comentario",className:"mt-1 block w-full whitespace-pre-wrap",required:!0,value:s.comentario,onChange:a=>l(a)})]}),e.jsxs("div",{className:"mt-3 col-span-2",children:[e.jsx(i,{type:"submit",className:"mt-3 mr-2 w-fit",disabled:T,children:"Guardar"}),e.jsx(i,{type:"button",className:"mt-3 w-fit",onClick:()=>u(),children:"Cerrar"})]})]})]})})]})}export{ne as default};
